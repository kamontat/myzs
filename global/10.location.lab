#!/usr/bin/env bash
# shellcheck disable=SC1090,SC2015

# maintain: Kamontat Chantrachirathumrong
# version:  1.1.0
# since:    21/04/2018

utils_for_lab() {
	lname() {
		echo "$MYZS_LAB_DIRNAME"
	}

	llo() {
		_myzs_get_work_location "$MYZS_LAB_DIRNAME"
	}

	lcd() {
		export MYZS_PREVIOUS_DIRNAME="$PWD" &&
			_myzs_to_work_location "$MYZS_LAB_DIRNAME"
	}

	lmk() {
		local dir="$1"
		lcd &&
			mkdir -p "$dir" &&
			cd "$dir" || return 1
	}

	lcf() {
		local file="$1"
		lcd &&
			touch "$file" &&
			"$VISUAL" "$file" || return 1
	}

	lrm() {
		local in="$1"
		lcd &&
			rm -r "$in"
	}

	lls() {
		lcd && ls && back
	}

	lla() {
		lcd && la && back
	}

	lhelp() {
		echo "
Variable name: MYZS_LAB_DIRNAME
Folder: $(_myzs_get_work_location "$MYZS_LAB_DIRNAME")
Concept: Lab for testing and playground new language or framework
Show help of lab utils
    1. lname - get LAB directory name
    2. llo   - get location of LAB
    3. lcd - cd to LAB
    4. lmk - create dir to LAB
    5. lcf - create file to LAB
    6. lrm - remove file/folder in LAB
    7. lls - list file and folder in LAB
    8. lla - list every file and folder in LAB
Extra command
    1. back  - cd back to previous directory
        "
	}

	lh() {
		lhelp
	}

	_myzs_if_fully_debug_print "alias" "lname => get '$MYZS_LAB_DIRNAME'"
	_myzs_if_fully_debug_print "alias" "llo => get '$(_myzs_get_work_location "$MYZS_LAB_DIRNAME")'"
	_myzs_if_fully_debug_print "alias" "lcd => cd to $(_myzs_get_work_location "$MYZS_LAB_DIRNAME")"
	_myzs_if_fully_debug_print "alias" "lmk => create dir to $(_myzs_get_work_location "$MYZS_LAB_DIRNAME")"
	_myzs_if_fully_debug_print "alias" "lcf => create file to $(_myzs_get_work_location "$MYZS_LAB_DIRNAME")"
	_myzs_if_fully_debug_print "alias" "lrm => remove file/folder in $(_myzs_get_work_location "$MYZS_LAB_DIRNAME")"
	_myzs_if_fully_debug_print "alias" "lls => list file/folder in $(_myzs_get_work_location "$MYZS_LAB_DIRNAME")"
	_myzs_if_fully_debug_print "alias" "lla => list all file/folder in $(_myzs_get_work_location "$MYZS_LAB_DIRNAME")"
	_myzs_if_fully_debug_print "alias" "lh => show help command"
}

test -n "$MYZS_LAB_DIRNAME" && utils_for_lab || _myzs_if_fully_debug_print "location" "lab not exist"
